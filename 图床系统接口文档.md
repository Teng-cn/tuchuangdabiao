# 图床系统接口文档

## 一、登录界面

### 1. 用户登录

- **基本信息**

  | 信息项   | 详情                                                  |
  | -------- | ----------------------------------------------------- |
  | 请求路径 | `/api/login`                                          |
  | 请求方式 | `POST`                                                |
  | 接口描述 | 用户使用用户名和密码进行登录，返回 JWT 令牌和用户信息 |

- **请求参数**

  | 参数     | 格式    | 说明     | 请求参数样例 |
  | -------- | ------- | -------- | ------------ |
  | username | String  | 用户名   | "111111"     |
  | password | String  | 用户密码 | "111111"     |
  | remeber  | boolean | 记住我   | true         |

- **响应数据**

  | 参数    | 格式    | 说明                           | 样例                                                         |
  | ------- | ------- | ------------------------------ | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码                     | 200                                                          |
  | message | String  | 响应消息                       | "操作成功"                                                   |
  | data    | Object  | 登录结果，包含用户信息和 token | {<br/>        "token": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI1IiwiaWF0IjoxNzQ5MzU5NjI0LCJleHAiOjE3NDk0NDYwMjR9.kfdeqFuA4FJmOyzryc_lZiEx0F5zgk14RDpZsOphS51jKSgLbwJTfGPwSHS3-6WLd50RzRyGbJe0CZhi_w_XhQ",<br/>        "user": {<br/>            "id": 5,<br/>            "username": "111111",<br/>            "nickname": "111111",<br/>            "email": null,<br/>            "phone": null,<br/>            "avatar": null,<br/>            "roleType": 0,<br/>            "status": null,<br/>            "createTime": null<br/>        }<br/>    } |
  | success | Boolean | 是否成功                       | true                                                         |

### 2. 管理员登录

- **基本信息**

  | 信息项   | 详情                                                      |
  | -------- | --------------------------------------------------------- |
  | 请求路径 | `/api/login`                                              |
  | 请求方式 | `POST`                                                    |
  | 接口描述 | 管理员使用用户名和密码进行登录，返回 JWT 令牌和管理员信息 |

- **请求参数**

  | 参数     | 格式    | 说明         | 请求参数样例 |
  | -------- | ------- | ------------ | ------------ |
  | username | String  | 管理员用户名 | "admin"      |
  | password | String  | 管理员密码   | "admin123"   |
  | remeber  | boolean | 记住我       | true         |

- **响应数据**

  | 参数    | 格式    | 说明                             | 样例                                                         |
  | ------- | ------- | -------------------------------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码                       | 200                                                          |
  | message | String  | 响应消息                         | "操作成功"                                                   |
  | data    | Object  | 登录结果，包含管理员信息和 token | {<br/>        "token": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNzQ5MzU5OTgwLCJleHAiOjE3NDk0NDYzODB9.pihXK9koYkXv7KBV3mUhqXtef1hU93IEVKskFo_p138vlbx5tJGzVdNHViX8uZKu4Kk8OKaMj928z_RiVgChVA",<br/>        "user": {<br/>            "id": 1,<br/>            "username": "admin",<br/>            "nickname": "管理员",<br/>            "email": null,<br/>            "phone": null,<br/>            "avatar": null,<br/>            "roleType": 1,<br/>            "status": null,<br/>            "createTime": null<br/>        }<br/>    } |
  | success | Boolean | 是否成功                         | true                                                         |

### 3. 用户注册

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/user/register`     |
  | 请求方式 | `POST`                   |
  | 接口描述 | 根据相关用户信息注册用户 |

- **请求参数**

  | 参数     | 格式   | 说明   | 请求参数样例 |
  | -------- | ------ | ------ | ------------ |
  | username | String | 用户名 | "333333"     |
  | password | String | 密码   | "333333"     |
  | email    | String | 邮箱   | 3@qq.com     |

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

## 二、员工接口

### 1. 上传图片

- **基本信息**

  | 信息项   | 详情                               |
  | -------- | ---------------------------------- |
  | 请求路径 | `/api/image/upload`                |
  | 请求方式 | `POST`                             |
  | 接口描述 | 员工上传图片，返回图片上传结果信息 |

- **请求参数**

  | 参数 | 格式          | 说明             | 请求参数样例 |
  | ---- | ------------- | ---------------- | ------------ |
  | file | MultipartFile | 要上传的图片文件 | -            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明                   | 样例                                                         |
  | ------- | ------- | ---------------------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码             | 200                                                          |
  | message | String  | 响应消息               | "操作成功"                                                   |
  | data    | Object  | 上传结果，包含图片信息 | {<br/>        "id": 25,<br/>        "name": "1.png",<br/>        "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/c2a5106bc3a9efbd.png",<br/>        "size": 45959,<br/>        "width": 265,<br/>        "height": 156<br/>    } |
  | success | Boolean | 是否成功               | true                                                         |

### 2. 图片列表

- **基本信息**

  | 信息项   | 详情                                 |
  | -------- | ------------------------------------ |
  | 请求路径 | `/api/image/list`                    |
  | 请求方式 | `GET`                                |
  | 接口描述 | 员工根据关键字搜索自己上传的图片列表 |

- **请求参数**

  | 参数    | 格式    | 说明              | 请求参数样例 |
  | ------- | ------- | ----------------- | ------------ |
  | keyword | String  | 搜索关键字        | "l"          |
  | page    | Integer | 页码，默认 1      | 1            |
  | size    | Integer | 每页数量，默认 10 | 10           |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明         | 样例                                                         |
  | ------- | ------- | ------------ | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码   | 200                                                          |
  | message | String  | 响应消息     | "操作成功"                                                   |
  | data    | Object  | 图片列表信息 | {<br/>        "total": 1,<br/>        "size": 12,<br/>        "page": 1,<br/>        "list": [<br/>            {<br/>                "id": 26,<br/>                "userId": 1,<br/>                "name": "logo.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/36e8bf66022988ee.png",<br/>                "size": 8479,<br/>                "width": 833,<br/>                "height": 833,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T05:23:33"<br/>            }<br/>        ]<br/>    } |
  | success | Boolean | 是否成功     | true                                                         |

### 3. 删除图片

- **基本信息**

  | 信息项   | 详情              |
  | -------- | ----------------- |
  | 请求路径 | `/api/image/{id}` |
  | 请求方式 | `DELETE`          |
  | 接口描述 | 删除图片          |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **请求参数**

  | 参数 | 格式 | 说明           | 请求参数样例 |
  | ---- | ---- | -------------- | ------------ |
  | id   | Long | 根据id删除图片 | 7            |

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 4. 上传头像

- **基本信息**

  | 信息项   | 详情                                   |
  | -------- | -------------------------------------- |
  | 请求路径 | `/api/user/avatar`                     |
  | 请求方式 | `POST`                                 |
  | 接口描述 | 员工更换自己的头像，返回头像的访问 URL |

- **请求参数**

  | 参数 | 格式          | 说明             | 请求参数样例 |
  | ---- | ------------- | ---------------- | ------------ |
  | file | MultipartFile | 要上传的头像文件 | -            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明         | 样例                                                         |
  | ------- | ------- | ------------ | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码   | 200                                                          |
  | message | String  | 响应消息     | "操作成功"                                                   |
  | data    | Object  | 包含头像 URL | {<br/>        "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/avatars/1/352425cb-1a16-40ac-9e49-1b53c2224117.png"<br/>    } |
  | success | Boolean | 是否成功     | true                                                         |

### 5. 更新个人用户信息

- **基本信息**

  | 信息项   | 详情               |
  | -------- | ------------------ |
  | 请求路径 | `/api/user/update` |
  | 请求方式 | `PUT`              |
  | 接口描述 | 用户修改个人资料   |

- **请求参数**

  | 参数     | 格式   | 说明       | 请求参数样例  |
  | -------- | ------ | ---------- | ------------- |
  | nickname | String | 用户昵称   | "新昵称"      |
  | email    | String | 用户邮箱   | "11@qq.com"   |
  | phone    | String | 用户手机号 | "13800138000" |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 6. 修改密码

- **基本信息**

  | 信息项   | 详情                   |
  | -------- | ---------------------- |
  | 请求路径 | `/api/user/password`   |
  | 请求方式 | `PUT`                  |
  | 接口描述 | 员工修改自己的登录密码 |

- **请求参数**

  | 参数        | 格式   | 说明   | 请求参数样例 |
  | ----------- | ------ | ------ | ------------ |
  | oldPassword | String | 旧密码 | "123456"     |
  | newPassword | String | 新密码 | "654321"     |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "修改成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 7. 获取当前用户信息

- **基本信息**

  | 信息项   | 详情             |
  | -------- | ---------------- |
  | 请求路径 | `/api/user/info` |
  | 请求方式 | `GET`            |
  | 接口描述 | 获取当前用户信息 |

- **请求参数**

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Object  | 可空       | {<br/>        "id": 1,<br/>        "username": "admin",<br/>        "nickname": "管理员",<br/>        "email": null,<br/>        "phone": null,<br/>        "avatar": null,<br/>        "roleType": 1,<br/>        "status": null,<br/>        "createTime": "2025-06-09T11:24:12"<br/>    } |
  | success | Boolean | 是否成功   | true                                                         |

### 8. 获取用户统计信息

- **基本信息**

  | 信息项   | 详情              |
  | -------- | ----------------- |
  | 请求路径 | `/api/user/stats` |
  | 请求方式 | `GET`             |
  | 接口描述 | 获取用户统计信息  |

- **请求参数**

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Object  | 可空       | {<br/>        "totalImages": 0,<br/>        "totalStorage": 0,<br/>        "totalAccess": 0,<br/>        "todayUploaded": 0<br/>    } |
  | success | Boolean | 是否成功   | true                                                         |

## 三、管理员接口

### 1. 用户的增删改查

#### 1.1 创建用户

- **基本信息**

  | 信息项   | 详情                 |
  | -------- | -------------------- |
  | 请求路径 | `/api/user/register` |
  | 请求方式 | `POST`               |
  | 接口描述 | 管理员创建新用户     |

- **请求参数**

  | 参数     | 格式   | 说明     | 请求参数样例 |
  | -------- | ------ | -------- | ------------ |
  | username | String | 用户名   | "222222"     |
  | password | String | 用户密码 | "222222"     |
  | email    | String | 用户邮箱 | "2@qq.com"   |
  
  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`
  
- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

#### 1.2 删除用户

- **基本信息**

  | 信息项   | 详情                   |
  | -------- | ---------------------- |
  | 请求路径 | `/api/admin/user/{id}` |
  | 请求方式 | `DELETE`               |
  | 接口描述 | 管理员删除指定用户     |

- **请求参数**

  | 参数 | 格式 | 说明    | 请求参数样例 |
  | ---- | ---- | ------- | ------------ |
  | id   | Long | 用户 ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "删除成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

#### 1.3 更新用户信息

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/admin/user/update` |
  | 请求方式 | `PUT`                    |
  | 接口描述 | 管理员更新指定用户的信息 |

- **请求参数**

  | 参数     | 格式    | 说明         | 请求参数样例 |
  | -------- | ------- | ------------ | ------------ |
  | id       | Long    | 用户 ID      | 4            |
  | nickname | String  | 用户昵称     | "333333"     |
  | email    | String  | 用户邮箱     | "3@qq.com"   |
  | roleType | Integer | 用户角色类型 | 0            |
  | status   | Integer | 用户账号状态 | 0            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "更新成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

#### 1.4 查询用户列表

- **基本信息**

  | 信息项   | 详情               |
  | -------- | ------------------ |
  | 请求路径 | `/api/admin/users` |
  | 请求方式 | `GET`              |
  | 接口描述 | 管理员获取用户列表 |

- **请求参数**

  | 参数    | 格式    | 说明             | 请求参数样例 |
  | ------- | ------- | ---------------- | ------------ |
  | keyword | String  | 搜索关键字，可空 | "1"          |
  | page    | Integer | 页码             | 1            |
  | size    | Integer | 每页数量         | 10           |
  
  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明         | 样例                                                         |
  | ------- | ------- | ------------ | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码   | 200                                                          |
  | message | String  | 响应消息     | "操作成功"                                                   |
  | data    | Object  | 用户列表信息 | {<br/>        "total": 1,<br/>        "list": [<br/>            {<br/>                "id": 3,<br/>                "username": "111111",<br/>                "nickname": "111111",<br/>                "email": "11@qq.com",<br/>                "phone": "13033228208",<br/>                "avatar": null,<br/>                "roleType": 0,<br/>                "status": 0,<br/>                "createTime": "2025-06-08T09:04:17"<br/>            }<br/>        ],<br/>        "page": 1,<br/>        "size": 10,<br/>        "totalPages": 1<br/>    } |
  | success | Boolean | 是否成功     | true                                                         |

### 2. 查询所有图片

- **基本信息**

  | 信息项   | 详情                   |
  | -------- | ---------------------- |
  | 请求路径 | `/api/admin/images`    |
  | 请求方式 | `GET`                  |
  | 接口描述 | 管理员获取所有图片列表 |

- **请求参数**

  | 参数 | 格式    | 说明     | 请求参数样例 |
  | ---- | ------- | -------- | ------------ |
  | page | Integer | 页码     | 1            |
  | size | Integer | 每页数量 | 10           |
  

需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明         | 样例                                                         |
  | ------- | ------- | ------------ | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码   | 200                                                          |
  | message | String  | 响应消息     | "操作成功"                                                   |
  | data    | Object  | 图片列表信息 | {<br/>        "total": 5,<br/>        "list": [<br/>            {<br/>                "id": 6,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/8b96b6d545854f42.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:58:17"<br/>            },<br/>            {<br/>                "id": 5,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/ddaed79328bc58d0.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:48:06"<br/>            },<br/>            {<br/>                "id": 4,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/2a62a0792c420298.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:44:12"<br/>            },<br/>            {<br/>                "id": 3,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/7034d347cae19bab.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:43:02"<br/>            },<br/>            {<br/>                "id": 1,<br/>                "userId": 1,<br/>                "name": "1.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/1ef548763bc8ec6b.png",<br/>                "size": 45959,<br/>                "width": 265,<br/>                "height": 156,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:39:57"<br/>            }<br/>        ],<br/>        "page": 1,<br/>        "size": 12,<br/>        "totalPages": 1<br/>    } |
  | success | Boolean | 是否成功     | true                                                         |

### 3. 根据用户查图片

- **基本信息**

  | 信息项   | 详情                                       |
  | -------- | ------------------------------------------ |
  | 请求路径 | `/api/admin/images`                        |
  | 请求方式 | `GET`                                      |
  | 接口描述 | 管理员根据用户 ID 查询该用户上传的图片列表 |

- **请求参数**

  | 参数   | 格式    | 说明     | 请求参数样例 |
  | ------ | ------- | -------- | ------------ |
  | userId | Long    | 用户 ID  | 1            |
  | page   | Integer | 页码     | 1            |
  | size   | Integer | 每页数量 | 10           |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明         | 样例                                                         |
  | ------- | ------- | ------------ | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码   | 200                                                          |
  | message | String  | 响应消息     | "获取成功"                                                   |
  | data    | Object  | 图片列表信息 | {<br/>        "total": 5,<br/>        "list": [<br/>            {<br/>                "id": 6,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/8b96b6d545854f42.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:58:17"<br/>            },<br/>            {<br/>                "id": 5,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/ddaed79328bc58d0.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:48:06"<br/>            },<br/>            {<br/>                "id": 4,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/2a62a0792c420298.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:44:12"<br/>            },<br/>            {<br/>                "id": 3,<br/>                "userId": 1,<br/>                "name": "01.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/7034d347cae19bab.png",<br/>                "size": 10038,<br/>                "width": 0,<br/>                "height": 0,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:43:02"<br/>            },<br/>            {<br/>                "id": 1,<br/>                "userId": 1,<br/>                "name": "1.png",<br/>                "url": "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/1ef548763bc8ec6b.png",<br/>                "size": 45959,<br/>                "width": 265,<br/>                "height": 156,<br/>                "mimeType": "image/png",<br/>                "accessCount": 0,<br/>                "createTime": "2025-06-08T07:39:57"<br/>            }<br/>        ],<br/>        "page": 1,<br/>        "size": 12,<br/>        "totalPages": 1<br/>    } |
  | success | Boolean | 是否成功     | true                                                         |

### 4. 管理员删除图片

- **基本信息**

  | 信息项   | 详情                    |
  | -------- | ----------------------- |
  | 请求路径 | `/api/admin/image/{id}` |
  | 请求方式 | `DELETE`                |
  | 接口描述 | 管理员删除图片          |

- **请求参数**

  | 参数 | 格式 | 说明           | 请求参数样例 |
  | ---- | ---- | -------------- | ------------ |
  | id   | Long | 根据id删除图片 | 6            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 5. 系统统计

- **基本信息**

  | 信息项   | 详情                                           |
  | -------- | ---------------------------------------------- |
  | 请求路径 | `/api/admin/stats`                             |
  | 请求方式 | `GET`                                          |
  | 接口描述 | 管理员获取系统统计信息，如用户总数、图片总数等 |

- **请求参数**
  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明                                                         | 样例       |
  | ------- | ------- | ------------------------------------------------------------ | ---------- |
  | code    | Integer | 响应状态码                                                   | 200        |
  | message | String  | 响应消息                                                     | "获取成功" |
  | data    | Object  | {<br/>        "totalUsers": 4,<br/>        "newUsersToday": 4,<br/>        "totalImages": 5,<br/>        "uploadedToday": 5,<br/>        "totalStorage": 86111,<br/>        "weekStats": [<br/>            {<br/>                "date": "2025-06-02",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-03",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-04",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-05",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-06",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-07",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-08",<br/>                "count": 5<br/>            }<br/>        ],<br/>        "monthStats": [<br/>            {<br/>                "date": "2025-05-10",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-11",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-12",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-13",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-14",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-15",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-16",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-17",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-18",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-19",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-20",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-21",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-22",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-23",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-24",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-25",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-26",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-27",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-28",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-29",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-30",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-05-31",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-01",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-02",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-03",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-04",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-05",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-06",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-07",<br/>                "count": 0<br/>            },<br/>            {<br/>                "date": "2025-06-08",<br/>                "count": 5<br/>            }<br/>        ]<br/>    } |            |
  | success | Boolean | 是否成功                                                     | true       |

### 9. 访问图片

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/image/access/{id}` |
  | 请求方式 | `GET`                    |
  | 接口描述 | 获取图片的访问URL，同时记录访问次数 |

- **请求参数**

  | 参数 | 格式 | 说明   | 请求参数样例 |
  | ---- | ---- | ------ | ------------ |
  | id   | Long | 图片ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | String  | 图片URL    | "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/2025/06/08/1ef548763bc8ec6b.png" |
  | success | Boolean | 是否成功   | true                                                         |

### 10. 代理下载图片

- **基本信息**

  | 信息项   | 详情                |
  | -------- | ------------------- |
  | 请求路径 | `/api/image/proxy`  |
  | 请求方式 | `GET`               |
  | 接口描述 | 从指定URL下载图片并返回，解决CORS问题 |

- **请求参数**

  | 参数 | 格式   | 说明     | 请求参数样例                                                 |
  | ---- | ------ | -------- | ------------------------------------------------------------ |
  | url  | String | 图片URL  | "https://xndjava-ai.oss-cn-beijing.aliyuncs.com/images/xxx.png" |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  直接返回图片的字节流数据

## 四、标注项目接口

### 1. 创建标注项目

- **基本信息**

  | 信息项   | 详情                 |
  | -------- | -------------------- |
  | 请求路径 | `/api/annotation/project` |
  | 请求方式 | `POST`               |
  | 接口描述 | 创建新的标注项目     |

- **请求参数**

  | 参数     | 格式   | 说明     | 请求参数样例 |
  | -------- | ------ | -------- | ------------ |
  | name     | String | 项目名称 | "测试项目"   |
  | description | String | 项目描述 | "这是一个测试项目" |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Long    | 项目ID     | 1          |
  | success | Boolean | 是否成功   | true       |

### 2. 获取项目详情

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{id}` |
  | 请求方式 | `GET`                    |
  | 接口描述 | 获取指定项目的详细信息   |

- **请求参数**

  | 参数 | 格式 | 说明   | 请求参数样例 |
  | ---- | ---- | ------ | ------------ |
  | id   | Long | 项目ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Object  | 项目详情   | {<br/>        "id": 1,<br/>        "name": "测试项目",<br/>        "description": "这是一个测试项目",<br/>        "createTime": "2025-06-08T07:39:57",<br/>        "status": 0<br/>    } |
  | success | Boolean | 是否成功   | true                                                         |

### 3. 添加图片到项目

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{id}/images` |
  | 请求方式 | `POST`                   |
  | 接口描述 | 向指定项目添加图片       |

- **请求参数**

  | 参数     | 格式  | 说明       | 请求参数样例 |
  | -------- | ----- | ---------- | ------------ |
  | id       | Long  | 项目ID     | 1            |
  | imageIds | Array | 图片ID列表 | [1, 2, 3]    |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 4. 获取用户的项目列表

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/projects` |
  | 请求方式 | `GET`                    |
  | 接口描述 | 获取当前用户参与的所有项目列表 |

- **请求参数**

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Array   | 项目列表   | [<br/>        {<br/>            "id": 1,<br/>            "name": "测试项目",<br/>            "description": "这是一个测试项目",<br/>            "createTime": "2025-06-08T07:39:57",<br/>            "status": 0<br/>        }<br/>    ] |
  | success | Boolean | 是否成功   | true                                                         |

### 5. 获取项目的图片列表

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{id}/images` |
  | 请求方式 | `GET`                    |
  | 接口描述 | 获取指定项目中的图片列表 |

- **请求参数**

  | 参数 | 格式    | 说明     | 请求参数样例 |
  | ---- | ------- | -------- | ------------ |
  | id   | Long    | 项目ID   | 1            |
  | page | Integer | 页码     | 1            |
  | size | Integer | 每页数量 | 10           |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Object  | 分页数据   | {<br/>        "total": 1,<br/>        "list": [<br/>            {<br/>                "id": 1,<br/>                "name": "test.png",<br/>                "url": "https://example.com/test.png",<br/>                "size": 1024,<br/>                "width": 100,<br/>                "height": 100<br/>            }<br/>        ],<br/>        "page": 1,<br/>        "size": 10<br/>    } |
  | success | Boolean | 是否成功   | true                                                         |

### 6. 保存项目图片标注

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{projectId}/image/{imageId}/annotation` |
  | 请求方式 | `PUT`                    |
  | 接口描述 | 保存指定项目图片的标注数据 |

- **请求参数**

  | 参数      | 格式   | 说明     | 请求参数样例 |
  | --------- | ------ | -------- | ------------ |
  | projectId | Long   | 项目ID   | 1            |
  | imageId   | Long   | 图片ID   | 1            |
  | data      | Object | 标注数据 | {...}        |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 7. 获取项目所有标注数据

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{projectId}/annotations` |
  | 请求方式 | `GET`                    |
  | 接口描述 | 获取指定项目的所有标注数据 |

- **请求参数**

  | 参数      | 格式 | 说明   | 请求参数样例 |
  | --------- | ---- | ------ | ------------ |
  | projectId | Long | 项目ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Array   | 标注数据列表 | [<br/>        {<br/>            "imageId": 1,<br/>            "data": {...}<br/>        }<br/>    ] |
  | success | Boolean | 是否成功   | true                                                         |

### 8. 完成项目

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{id}/complete` |
  | 请求方式 | `PUT`                    |
  | 接口描述 | 将指定项目标记为已完成   |

- **请求参数**

  | 参数 | 格式 | 说明   | 请求参数样例 |
  | ---- | ---- | ------ | ------------ |
  | id   | Long | 项目ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 9. 删除项目

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{id}` |
  | 请求方式 | `DELETE`                 |
  | 接口描述 | 删除指定的项目           |

- **请求参数**

  | 参数 | 格式 | 说明   | 请求参数样例 |
  | ---- | ---- | ------ | ------------ |
  | id   | Long | 项目ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例       |
  | ------- | ------- | ---------- | ---------- |
  | code    | Integer | 响应状态码 | 200        |
  | message | String  | 响应消息   | "操作成功" |
  | data    | Object  | 可空       | null       |
  | success | Boolean | 是否成功   | true       |

### 10. 打包项目数据

- **基本信息**

  | 信息项   | 详情                     |
  | -------- | ------------------------ |
  | 请求路径 | `/api/annotation/project/{id}/package` |
  | 请求方式 | `GET`                    |
  | 接口描述 | 打包指定项目的所有数据   |

- **请求参数**

  | 参数 | 格式 | 说明   | 请求参数样例 |
  | ---- | ---- | ------ | ------------ |
  | id   | Long | 项目ID | 1            |

  需在请求头中添加 `Authorization`，格式为 `Bearer {token}`

- **响应数据**

  | 参数    | 格式    | 说明       | 样例                                                         |
  | ------- | ------- | ---------- | ------------------------------------------------------------ |
  | code    | Integer | 响应状态码 | 200                                                          |
  | message | String  | 响应消息   | "操作成功"                                                   |
  | data    | Object  | 下载URL    | {<br/>        "url": "https://example.com/download/package.zip"<br/>    } |
  | success | Boolean | 是否成功   | true                                                         |

